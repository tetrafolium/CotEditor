<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="keywords"
      content="仕様変更,アウトライン,正規表現,AppleScript"
    />
    <title>CotEditor 2.0での仕様変更</title>
    <link rel="start" href="../CotEditorHelp.html" />
    <link rel="index" href="../xpgs/xall.html" />
    <link rel="stylesheet" href="../../Shared/sty/standard.css" />
  </head>

  <body>
    <nav>
      <ul>
        <li><a href="../CotEditorHelp.html">CotEditorヘルプ</a></li>
      </ul>
    </nav>

    <a name="specification_changes"></a>
    <h1>CotEditor 2.0での仕様変更</h1>

    <p>
      CotEditor
      2.0ではカスタマイズに関する仕様が一部変更されました。そのため、以前のバージョンを使っていたユーザは手動による移行処理が必要になる場合があります。
    </p>

    <h2>シンタックススタイル定義の仕様変更</h2>
    <p>
      シンタックススタイルの定義ファイル関する仕様は大きく変更されました。従来のユーザ定義からの変換は初回起動時に自動で行われます。しかし、コメントアウト機能やカラーリングの追加などの新しい機能に準拠するためにも、再編集もしくは書き直しをお勧めします。
    </p>
    <p>
      <a
        href="https://github.com/coteditor/CotEditor/wiki/Additional-Syntax-Styles"
        rel="external"
        >Wiki page</a
      >で新しいフォーマットの追加シンタックス定義を探すこともできます。
    </p>

    <h2>アウトライン抽出の正規表現エンジンの変更</h2>
    <p>
      アウトライン抽出の正規表現エンジンが2.0でOniguruma系からICU系に変更されたため、CotEditor
      1.xでシンタックス定義をカスタムしていたユーザは、アウトラインの抽出定義を手動で修正する必要があるかもしれません。
      環境設定のシンタックススタイル編集から“シンタックスの検証”を実行し、出力されるメッセージに従ってください。
    </p>

    <p>典型的な修正点としては以下が挙げられます。</p>

    <ul>
      <li>
        文字としての<code>{</code>と<code>}</code>はICU上では常にバックスラッシュ\でエスケープされる必要があります。
      </li>
      <li>
        <code>$&amp;</code
        >による抽出文字列の置換は2.0で削除されました。同様の効果を得るためには<code>$0</code>を代わりに使ってください。
      </li>
    </ul>

    <p>
      詳しいICU正規表現エンジンの仕様については<a
        href="http://userguide.icu-project.org/strings/regexp"
        rel="external"
        >Regular Expressions - ICU User Guide</a
      >を参照ください。
    </p>

    <h2>AppleScript対応の一部仕様変更</h2>
    <p>
      CotEditor
      2.0ではAppleScript対応に関する仕様が一部変更されました。そのため、一部のスクリプトはそのままでは2.0では動かない可能性があります。変更箇所などの詳細はヘルプメニュー内の「AppleScriptでのスクリプト作成」をご覧下さい。
    </p>

    <h2>Bundle Identifierの変更</h2>
    <p>
      CotEditor 2.0では、OS Xでのアプリケーションを識別子であるbundle
      identifierが従来の“com.aynimac.CotEditor”から“com.coteditor.CotEditor”に変更されました。そのため、ファイル関連付けや他アプリケーションの外部エディタとしてCotEditorを指定した場合など設定がリセットされている可能性があります。その場合は再び関連付けをやり直してください。
    </p>
    <p>
      <em>上級者向け</em
      >:これにともない、設定が保存されるplistファイルやターミナルからの<code>defaults</code>コマンドによる設定の変更の識別子も変更されていることに留意してください。
    </p>

    <section id="cf">
      <h2>See also</h2>
      <ul>
        <li>
          <a href="../pgs/whats_new_in_2.0.html">CotEditor 2.0の新機能</a>
        </li>
        <li><a href="../pgs/releasenotes.html">リリースノート</a></li>
        <li><a href="../xpgs/xsoftware.html">CotEditorについて</a></li>
      </ul>
    </section>
  </body>
</html>
