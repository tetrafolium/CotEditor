<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="keywords" content="text encoding, encoding, detction" />
    <link rel="start" href="../CotEditorHelp.html" />
    <link rel="index" href="../xpgs/xall.html" />
    <link rel="stylesheet" href="../../Shared/sty/standard.css" />
    <title>Using encoding declarations for encoding detection</title>
  </head>

  <body>
    <nav>
      <ul>
        <li><a href="../CotEditorHelp.html">CotEditor Help</a></li>
      </ul>
    </nav>

    <h1>Using encoding declarations for encoding detection</h1>

    <p>
      When “Refer to encoding declaration in document” is enabled in the Format
      preferences pane, CotEditor reads the following types of encoding
      declarations (if present) — <code>charset=</code>, <code>encoding=</code>,
      <code>@charset</code>, <code>encoding:</code> and <code>coding:</code> —
      when opening a file. If written properly, these declarations will be used
      to determine the file's text encoding.
    </p>
    <p>
      A declaration can be anywhere in the document, the one either in comment
      area or in a plain sentence is detected. When you want to use a phrase
      such as “charset=UTF-8” even though your document's encoding is not UTF-8,
      you need to put an actual encoding declaration prior to the phrase, or,
      turn off “Refer to encoding declaration in document” in the Format
      preferences.
    </p>

    <ul>
      <li>
        The scope to scan declarations is limited within 2,000 characters from
        the head of the document.
      </li>
      <li>
        To make the detection of declarations work, you have to put an equal
        character (“=”, no other characters) right after “<code>charset</code>”
        or “<code>encoding</code>.”
      </li>
      <li>
        The encoding name which comes after “<code>charset=</code>” or
        “<code>encoding=</code>” can be without double-quotes (&quot;) around.
      </li>
      <li>
        In the case there are multiple encoding declarations in your document,
        CotEditor uses the first one to determine the text encoding.
      </li>
      <li>
        When the encoding is declared as Shift JIS (written like
        <code>charset=&quot;Shift_JIS&quot;</code>), CotEditor chooses the
        prioritized one (the upper one in the encoding list) between “Japanese
        (Shift JIS)” and “Japanese (Shift JIS X0213).”<br />
        =&gt;
        <a href="../pgs/howto_customize_encoding_order.html"
          >Setting the priority of encoding detection</a
        >
      </li>
    </ul>

    <section id="cf">
      <h2>See also</h2>
      <ul>
        <li><a href="../pgs/pref_format.html">Format preferences</a></li>
        <li>
          <a href="../pgs/howto_customize_encoding_order.html"
            >Setting the priority of encoding detection</a
          >
        </li>
      </ul>
    </section>
  </body>
</html>
